function AddPassToPage(e){var o,t,a,s;for(o=document.forms,s=0;s<o.length;++s)for(a=o[s],t=0;t<a.length;++t)"password"==a[t].type.toLowerCase()&&(a[t].style.backgroundImage="url('data:image/gif;base64,R0lGODlhDQAOAJEAAAjOCPn%2B%2Bd343f%2F%2F%2FyH5BAEAAAMALAAAAAANAA4AAAIlhI83CRKhFoKAjouE0eBi81CdJ3ERWSWkx6ws4r5GLNOvzeJeAQA7')",a[t].value=e,a[t].style.backgroundPosition="top right",a[t].style.backgroundRepeat="no-repeat")}function GetPassFromPage(){var e,o,t,a;for(e=document.forms,a=0;a<e.length;++a)for(t=e[a],o=0;o<t.length;++o)if("password"==t[o].type.toLowerCase()&&t[o].value.length>1)return t[o].value}chrome.extension.onRequest.addListener(function(e,o,t){"get"==e.type?(response=GetPassFromPage(),t({value:response})):"set"==e.type?(AddPassToPage(e.value),t({})):"log"==e.type&&(console.log(e.value),t({}))});